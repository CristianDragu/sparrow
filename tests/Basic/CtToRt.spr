//!! -t "SparrowImplicitLib.spr"
package Test;

var[ct] t: Type = Int;
var[ct] u: Type;

var[ct] x: Int = 1;
var[ct] y: t = 2;
var z = 3;

var[ct] c1: Int@ = x;

fun[ct] testCt(a: Int)
{
}

fun[autoCt] id(x: Int@): Int@
{
    return x;
}

fun printRef(x: Int@)
{
    writeLn(x);
}

fun[native("test")] test(n: Int)
{
    testCt(x);
    testCt(y);
    //testCt(z);        // Should raise an error

    writeLn(x);
    writeLn(y);
    writeLn(z);
    
    writeLn(c1);
    writeLn(id(c1));
    writeLn(id(id(id(id(c1)))));
    //printRef(id(c1)); // Should raise an error
}


/*<<<Running()
1
2
3
1
1
1
>>>*/