//!!

import meta.diagnostic;


fun sprMain // ERROR - introduced by the last meta.report
{
    var[ct] loc = Location(SourceCode.current(), 6, 6, 5, 12);

    var[ct] diag1 = Diagnostic("Some information", loc, diagInfo);
    report(diag1);

    var[ct] diag2 = Diagnostic("Some warning", loc, diagWarning);
    report(diag2);

    report("Error at the beginning of the function", loc);

    var[ct] sc = SourceCode.current();
    var[ct] sc2 = SourceCode.fromFilename("/Users/lucteo/work/sparrow/dev/AutoTests/CompilerApi/Diagnostic.spr");

    cout << sc.filename() << endl;
    cout << sc2.filename() << endl;

    if ( sc == sc2 )
        cout << "equal\n";
    else
        cout << "not equal\n";
}
/*--<<<Running()
/Users/lucteo/work/sparrow/dev/AutoTests/CompilerApi/Diagnostic.spr
/Users/lucteo/work/sparrow/dev/AutoTests/CompilerApi/Diagnostic.spr
equal
>>>*/
