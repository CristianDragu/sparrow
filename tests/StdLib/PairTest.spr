//!!
package Test;

import SL.Pair;

fun sprMain
{
    if ( programArgs.size() < 2 )
        return;
    var n = programArgs(1) asInt;

    if      ( n == 1 ) test1();
    else if ( n == 2 ) test2();
    else if ( n == 3 ) test3();
    else if ( n == 4 ) test4();
    else if ( n == 5 ) test5();
    else if ( n == 6 ) test6();
}

class MyObj1
{

    var x: Int;

    fun ctor(x: Int)
	{
		this.x ctor x;
	}
}

class MyObj2
{

    var x: Int;
	var y: Int;

    fun ctor(x: Int, y: Int)
	{
		this.x = x;
		this.y = y;
	}
}

fun test1()
{
	var p: Pair(MyObj1, MyObj2);

	cout << p.first.x << endl;
	cout << p.second.x << endl;
	cout << p.second.y << endl;
}
/*<<<Default constructor(1)
0
0
0
>>>*/

fun test2()
{
	var p = Pair(MyObj1, MyObj2)(MyObj1(42), MyObj2(111, 222));

	cout << p.first.x << endl;
	cout << p.second.x << endl;
	cout << p.second.y << endl;
}
/*<<<Constructor with values(2)
42
111
222
>>>*/

fun test3()
{
	var p1 = Pair(MyObj1, MyObj2)(MyObj1(42), MyObj2(111, 222));
	var p2 = Pair(MyObj1, MyObj2)(p1);

	cout << p2.first.x << endl;
	cout << p2.second.x << endl;
	cout << p2.second.y << endl;
}
/*<<<Copy constructor(3)
42
111
222
>>>*/

fun test4()
{
	// TODO
}
/*---<<<Destructor(4)
>>>*/

fun test5()
{
	var p1 = Pair(MyObj1, MyObj2)(MyObj1(42), MyObj2(111, 222));
	var p2 = Pair(MyObj1, MyObj2)(MyObj1(84), MyObj2(222, 444));
	var p3 = Pair(MyObj1, MyObj2)();

	p1 = p2;
	cout << p1.first.x << endl;
	cout << p1.second.x << endl;
	cout << p1.second.y << endl;
	p1 = p3;
	cout << p1.first.x << endl;
	cout << p1.second.x << endl;
	cout << p1.second.y << endl;
}
/*<<<Assignment operator(5)
84
222
444
0
0
0
>>>*/

fun test6()
{
	var p1 = Pair(MyObj1, MyObj2)(MyObj1(42), MyObj2(111, 222));
	var p2 = Pair(MyObj1, MyObj2)(MyObj1(84), MyObj2(222, 444));
	var p3 = Pair(MyObj1, MyObj2)(p1);

	cout << p1 == p2 << endl;
	cout << p1 == p3 << endl;
	cout << p1 != p2 << endl;
	cout << p1 != p3 << endl;
}
/*<<<Equality operator(6)
false
true
true
false
>>>*/
